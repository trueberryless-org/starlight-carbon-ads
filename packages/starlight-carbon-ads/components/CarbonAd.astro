---
interface Props {
  code: string;
  placement: string;
}

const { code, placement } = Astro.props;
---

<div class="CarbonAd" id="_carbonad-container">
  <script type="text/javascript" define:vars={{ code, placement }}>
    (function () {
      if (!window._carbonads) {
        var s = document.createElement("script");
        s.id = "_carbonads_js";
        s.src =
          "//cdn.carbonads.com/carbon.js?serve=" +
          encodeURIComponent(code) +
          "&placement=" +
          encodeURIComponent(placement);
        s.async = true;
        document.getElementById("_carbonad-container").appendChild(s);
      }
    })();
  </script>
</div>

<style>
  .CarbonAd {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 24px;
    border-radius: 12px;
    min-height: 256px;
    text-align: center;
    line-height: 18px;
    font-size: 12px;
    font-weight: 500;
    background-color: var(--carbon-ads-bg, #f5f5f5);
  }
  .CarbonAd img {
    margin: 0 auto;
    border-radius: 6px;
  }
  .CarbonAd .carbon-text {
    display: block;
    margin: 0 auto;
    padding-top: 12px;
    color: var(--carbon-ads-text-color, #333);
  }
  .CarbonAd .carbon-poweredby {
    display: block;
    padding-top: 6px;
    font-size: 11px;
    font-weight: 500;
    color: var(--carbon-ads-poweredby-color, #999);
    text-transform: uppercase;
  }
</style>
